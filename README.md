# Project for HackTUES 9
<img src="https://user-images.githubusercontent.com/54147006/223833805-b6605af7-7064-48b1-a1cc-a11ebe7d86f6.png" alt="drawing" style="width:900px;"/>

–ù–∞—à–∏—è—Ç –ø—Ä–æ–µ–∫—Ç —Ü–µ–ª–∏ –¥–∞ —Å—ä–∑–¥–∞–¥–µ –∑–∞—â–∏—Ç–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –≤—Å–∏—á–∫–∏ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –Ω–∞—à–∏—è –¥–æ–º, –æ—Ñ–∏—Å –∏ –¥—Ä—É–≥–∏. <br>
Presentation: https://prezi.com/view/wxg1Yyg6mbjlCkAzTpi7/
<br/>

# TtT IoT Firewall - Firewall for all of your IoT devices


## –¢–µ–º–∞: 
<img src="https://user-images.githubusercontent.com/54147006/224448143-e8f24e65-76ab-4857-937e-cd4f2e2be7ae.png" alt="drawing" style="width:400px;"/>

üü£ IoT & smart home security



## –ü—Ä–æ–±–ª–µ–º—ä—Ç
–°–ø–æ—Ä–µ–¥ –ø—Ä–æ—É—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∏—Ä–º–∞—Ç–∞ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç Extreme Networks –ø–æ—á—Ç–∏ **70%** –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏—Ç–µ —Å–∞ –ø—Ä–µ—Ç—ä—Ä–ø–µ–ª–∏ **–∞—Ç–∞–∫–∏** —Å—Ä–µ—â—É —Å–≤–æ–∏—Ç–µ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ò –º–Ω–æ–≥–æ –æ—Ç —Ç–µ–∑–∏ –∞—Ç–∞–∫–∏ —Å–∞ **–¥–æ–≤–µ–ª–∏ –¥–æ –ø—Ä–æ–±–∏–≤**. –¢–æ–∑–∏ –∑–∞—à–µ–º–µ—Ç—è–≤–∞—â –±—Ä–æ–π —è—Å–Ω–æ –ø–æ–∫–∞–∑–≤–∞ –∑–∞—â–æ –º—Ä–µ–∂–æ–≤–∞—Ç–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –Ω–∞ IoT –µ —Ç–æ–ª–∫–æ–≤–∞ –≤–∞–∂–µ–Ω –∞—Å–ø–µ–∫—Ç –∑–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç—Ç–∞. 

–ë–æ—Ç–Ω–µ—Ç—ä—Ç Mirai, –∫–æ–π—Ç–æ –ø—Ä–µ–∑ 2017 –≥. –æ—Ç–ø—Ä–∏—â–≤–∞ distributed denial-of-service (**DDoS**) —Å—Ä–µ—â—É –≥–æ–ª–µ–º–∏ —É–µ–±—Å–∞–π—Ç–æ–≤–µ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ –º–∏–ª–∏–æ–Ω–∏ **–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–∞–Ω–∏ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**.

–ù–∞—à–∏—è—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ—à–∞–≤–∞ —Ç–æ—á–Ω–æ —Ç–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º, –∫–∞—Ç–æ –ø—Ä–µ–∫–∞—Ä–≤–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞ –ø—Ä–µ–∑ Raspberry pi –∏ —Ç–æ–≤–∞ –ø–æ–∑–≤–æ–ª—è–≤–∞ –¥–∞ —Å–ø–∏—Ä–∞–º–µ –Ω–µ–∂–µ–ª–∞–Ω —Ç—Ä–∞—Ñ–∏–∫.


## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç

#### Raspberry pi
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–º–µ –Ω–∞—à–∏—è Raspberry pi –¥–∞ —Ä–∞–±–æ—Ç–∏ –∫–∞—Ç–æ **AccessPoint** –∫—ä–º —Ä—É—Ç–µ—Ä —Å–≤—ä—Ä–∑–∞–Ω —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

–ù–∞—Å–æ—á–≤–∞–º–µ **—Ü–µ–ª–∏—è —Ç—Ä–∞—Ñ–∏–∫** –Ω–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞, –∫–∞—Ç–æ –≥–∏ —Å–≤—ä—Ä–∑–≤–∞–º–µ —Å Raspberry pi-—è. –¢–æ–π –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞–º–µ—Å—Ç–µ–Ω —Å –≤—Å–µ–∫–∏ unix –±–∞–∑–∏—Ä–∞–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

–¢–∞–∫–∞ –Ω–∏–µ —Å—ä–∑–¥–∞–≤–∞–º–µ –æ—â–µ –µ–¥–Ω–∞ –∑–∞—â–∏—Ç–Ω–∞ —Å—Ç–µ–Ω–∞, –∫–æ—è—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —Ç—Ä–∞—Ñ–∏–∫—ä—Ç –µ **–∑–ª–æ–≤—Ä–µ–¥–µ–Ω**:
—Ç–æ–≤–∞ —Å—Ç–∞–≤–∞ –∫–∞—Ç–æ *–¥–æ–ø—É—Å–∫–∞–º–µ*, —á–µ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –ø—ä—Ä–≤–∏—Ç–µ –Ω—è–∫–æ–ª–∫–æ –∞–¥—Ä–µ—Å–∞ —Å–∞ Cloud provider-–∏—Ç–µ –Ω–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ço.

<img src="https://user-images.githubusercontent.com/54147006/224466525-6257799c-ea5f-4923-a91f-05da1c92cab5.png" alt="drawing" style="width:700px;"/>

#### –ö–æ–º—É–Ω–∏–∫–∞—Ü–∏—è
–ü—Ä–∏ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è **IoT -> Internet** - –Ω–∞–±–ª—é–¥–∞–≤–∞–º–µ –¥–∞–ª–∏ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ –∏–∑–ø—Ä–∞—â–∞ –∫—ä–º Cloud Provider, –∫–æ–π—Ç–æ –µ –ø–æ–∑–≤–æ–ª–µ–Ω. –ê–∫–æ –Ω–µ —Ç–æ —Ç–æ–≤–∞ –µ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ —Å–µ –±–ª–æ–∫–∏—Ä–∞.<br>
–ü—Ä–∏ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è **Internet -> IoT** - —â–µ –Ω–∞–±–ª—é–¥–∞–≤–∞–º–µ –¥–∞–ª–∏ —Ç—Ä–∞—Ñ–∏–∫—ä—Ç –Ω–∞–ø–æ–¥–æ–±—è–≤–∞ –ø—Ä–µ–¥–∏—à–µ–Ω —Ç—Ä–∞—Ñ–∏–∫ –∏ —â–µ —Ä–µ—à–∏–º –¥–∞–ª–∏ –¥–∞ –≥–æ –±–ª–æ–∫–∏—Ä–∞–º–µ –∏–ª–∏ –Ω–µ.*(–≤—Å–µ –æ—â–µ –Ω–µ –µ —Ä–µ–∞–ª–∏–∑–∏—Ä–∞–Ω–æ)*


–í –¥–µ–º–æ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ 4G modem –∏ –±–ª–æ–∫ —Å—Ö–µ–º–∞—Ç–∞ –∏–∑–≥–ª–µ–∂–¥–∞ —Ç–∞–∫–∞:
<img src="https://user-images.githubusercontent.com/54147006/224460359-d85db717-a031-462c-afcc-f1c13b4665e5.png" alt="drawing" style="width:700px;"/>


#### Web application
–ß—Ä–µ–∑ web application –Ω–∞ –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º—Ä–µ–∂–∞ —Å–µ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç —É—Å—Ç–æ—Ä–π—Å—Ç–≤–∞—Ç–∞ –∏ –±–ª–æ–∫–∏—Ä–∞–Ω–∏—Ç–µ –∞–¥—Ä–µ—Å–∏. –ü—Ä–µ–∑ –Ω–µ–≥–æ –¥–∞–≤–∞–º–µ –∫–æ–º–∞–Ω–¥–∞ –∑–∞ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞ –≤ –Ω–∞—à–∞—Ç–∞ **–ª–æ–∫–∞–ª–Ω–∞ –º—Ä–µ–∂–∞**. –ü—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –º–æ–∂–µ –¥–∞ **—É–ø—Ä–∞–≤–ª—è–≤–∞–º–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞** –∏ blacklist –∏ whitelist –∞–¥—Ä–µ—Å–∏—Ç–µ –Ω–∞ –≤—Å–µ–∫–∏ –µ–¥–∏–Ω –æ—Ç —Ç—è—Ö.

–ó–∞ –¥–∞ –±—ä–¥–∞—Ç –ª–æ–∫–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ Iot —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞ –≤ –º—Ä–µ–∂–∞—Ç–∞, –µ –¥–æ—Å—Ç–∞—Ç–∞—á–Ω–æ –¥–∞ —Å–µ –Ω–∞—Ç–∏—Å–Ω–µ –±—É—Ç–æ–Ω, –∫–æ–π—Ç–æ –∏–∑–≤–∏–∫–≤–∞ IoT finder. 

#### IoT finder
–ö–æ–≥–∞—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ **iot_devices_finder.py** —Å–µ –∑–∞–¥–µ–π—Å—Ç–≤–∞ –∏ –º–∞–∫ –∞–¥—Ä–µ—Å–∏—Ç–µ –∏ ip –∞–¥—Ä–µ—Å–∏—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –Ω–æ–≤–∏ iot —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–µ –∑–∞–ø–∏—Å–≤–∞—Ç. –ù–∏–µ —Ä–∞–∑–±–∏—Ä–∞–º–µ mac –∞–¥—Ä–µ—Å–∏—Ç–µ –Ω–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞, –∫–∞—Ç–æ **–Ω–∞–±–ª—é–¥–∞–≤–∞–º–µ —Ç—Ä–∞—Ñ–∏–∫–∞**, –∫–æ–≥–æ—Ç–æ —Ç–µ –∏–∑–ø—Ä–∞—â–∞—Ç.

–¢—Ä–∞—Ñ–∏–∫—ä—Ç –≤ –µ–¥–Ω–∞ –º—Ä–µ–∂–∞ **–Ω—è–º–∞** –¥–∞ –±—ä–¥–µ —Å–∞–º–æ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —á–∏–π—Ç–æ —Ç—Ä–∞—Ñ–∏–∫ –Ω–∏–µ –∏—Å–∫–∞–º–µ –¥–∞ —Å–ª–µ–¥–∏–º. –ó–∞—Ç–æ–≤–∞ –ø—Ä–µ–¥–∏ –¥–∞ –¥–æ–±–∞–≤–∏–º –Ω—è–∫–æ–π –º–∞–∫ –∞–¥—Ä–µ—Å –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ **–Ω–∞—á–∞–ª–æ—Ç–æ –º—É**(Organizationally Unique Identifier (OUI)) **—Å—ä–æ—Ç–≤–µ—Å—Ç–≤–∞** –Ω–∞ –Ω—è–∫–æ–µ –æ—Ç iot_devices_mac_addresses.txt. –í —Ç–æ–∑–∏ —Ñ–∞–π–ª —Å–∞ **–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –∑–∞–ø–∏—Å–∞–Ω–∏** –Ω–∞—á–∞–ª–∞—Ç–∞ –Ω–∞ –º–∞–∫ –∞–¥—Ä–µ—Å–∏ –Ω–∞ iot —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## –í –±—ä–¥–µ—â–µ
<ul>
 <li>–í –±—ä–¥–µ—â–µ —â–µ –Ω–∞–ø—Ä–∞–≤–∏–º –∏–∑–∫—É—Å—Ç–≤–µ–Ω–∏—è –∏–Ω—Ç–µ–ª–µ–∫—Ç, –∫–æ–π—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è –¥–∞–ª–∏ –µ–¥–∏–Ω —Ç—Ä–∞—Ñ–∏–∫ –µ –∑–ª–æ–≤—Ä–µ–¥–µ–Ω –∏–ª–∏ –Ω–µ. –¢–æ–≤–∞ –º–æ–∂–µ –¥–∞ —Å–µ –Ω–∞–ø—Ä–∞–≤–∏ —Å –ø–æ–≤–µ—á–µ –¥–∞–Ω–Ω–∏ –æ—Ç —Ç—Ä–∞—Ñ–∏–∫.
 <li>–©–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞–º–µ IPv6. –í –º–æ–º–µ–Ω—Ç–∞ –Ω–µ –≥–æ –ø—Ä–∞–≤–∏–º, –∑–∞—â–æ—Ç–æ –≤ –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—à–∏—è—Ç –º–æ–¥–µ–º –Ω—è–º–∞ IPv6 –∞–¥—Ä–µ—Å –∏ —Å—ä–æ—Ç–≤–µ—Ç–Ω–æ –Ω–µ –º–æ–∂–µ –¥–∞ –∫–æ–º—É–Ω–∏–∫–∏—Ä–∞ —á—Ä–µ–∑ –Ω–µ–≥–æ
 <li>–ü–æ–≤–µ—á–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏ –≤ web appa
 <li>Facial recognition –ø—Ä–∏ –ª–æ–≥–≤–∞–Ω–µ—Ç–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º—Ä–µ–∂–∞
</ul>

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python - Wireshark, Django
- Raspberry pi
- ESP32

## –ß–∞—Å—Ç–∏(–∞–∫–æ –∏–º–∞ —Ö–∞—Ä–¥—É–µ—Ä)
- Raspberry pi - firewall/access point 
- ESP32 - —Å–∏–º—É–ª–∏—Ä–∞ —Å–º–∞—Ä—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞
- 4g modem - –∑–∞ —Å–∏–º—É–ª–∞—Ü–∏—è—Ç–∞

## –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è - –∫–∞–∫ —Å–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–≤—ä—Ä–∑–≤–∞—Ç–µ Rpi-—è –∫—ä–º —Ä—É—Ç–µ—Ä–∞, –ø—É—Å–∫–∞–º–µ –≥–æ, –æ—Ç–≤–∞—Ä—è–º–µ web application –Ω–∞ –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º—Ä–µ–∂–∞ –∏ –ø—É—Å–∫–∞–º–µ –¥–∞ —Å–µ —Ç—ä—Ä—Å—è—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

#### 
	sudo apt install wireshark
	sudo apt install tshark

##### Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```import pyshark
import datetime
import sqlite3
import csv
import os
from sklearn.linear_model import LinearRegression
from sklearn.model_selection import train_test_split
import matplotlib.pyplot as plt
import pandas as pd
import telebot
import subprocess
import sys
```
##### –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞ ESP-—Ç–æ, –∫–∞—Ç–æ —Å–∏–º—É–ª–∞—Ü–∏—è:
``` 
https://github.com/marian-craciunescu/ESP32Ping
```

### –û—Ç–±–æ—Ä
 - –ñ–∏–≤–∫–æ(–∫–∞–ø–∏—Ç–∞–Ω)
 - –ú–∏—Ç–∫–æ
 - –í–∏–∫—Ç–æ—Ä
 - –ô–æ–∞–Ω
 - –†–∞–¥–∏

### –í–µ—Ä—Å–∏–∏
- v1 - in development
